system Cool is
specs
 @scheduler(RM);
ops

 (* Simple procedure *)
 proc tool(r:in out nat) is
 specs
  @pre r > 0;  @post r > 0;  @guarantee forall x:nat, r'change = x -> x > r;
 begin
   if r > 0 then r := r - 1; else r := r + 1; fi
   @dynamic_assert r > 0;
  end;

begin

  component C1 is
  specs
   @scheduler(EDF); @period(40); @deadline(30);
  vars
   x : nat;  
   s : string;
  begin
  
    task T1 is
    specs
     @period(12); @deadline(5);
    vars
     x : nat;
    begin
     x := 0;
     tool(x);
    end T1;

    task T2 is
    specs
      @period(30); @deadline(20);
    vars
      y : nat ;
    begin
      y := 0;
    end T2;

  end C1;

end Cool;